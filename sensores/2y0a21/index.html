<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Semillero ARES" /><link rel="canonical" href="https://semillero-ares.github.io/custom-sensor-for-EV3/sensores/2y0a21/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Sensor de distancia 2Y0A21 - Tutorial de sensor personalizado para EV3</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Sensor de distancia 2Y0A21";
        var mkdocs_page_input_path = "sensores\\2y0a21.md";
        var mkdocs_page_url = "/custom-sensor-for-EV3/sensores/2y0a21/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../img/logo/ares.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Tutorial para crear sensores personalizados para el LEGO EV3</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Sensores</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Sensor de distancia 2Y0A21</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#conexion">Conexión</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#calibracion">Calibración</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#programacion">Programación</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#referencias">Referencias</a>
    </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Tutorial de sensor personalizado para EV3</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Sensores</li>
      <li class="breadcrumb-item active">Sensor de distancia 2Y0A21</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/semillero-ares/custom-sensor-for-EV3/edit/master/docs/sensores/2y0a21.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="sensor-de-distancia-2y0a21">Sensor de distancia 2Y0A21</h1>
<p>Recordemos que el sensor de distancia de Sharp de referencia 2Y0A21 es un sensor laser infrarojo, que tiene un rango útil de medidas entre 10 cm y 80 cm, más detalles de este sensor pueden ser consultados en su <a href="https://global.sharp/products/device/lineup/data/pdf/datasheet/gp2y0a21yk_e.pdf">hoja de datos</a>.</p>
<p><img alt="Sensor Sharp 2Y0A21" class="img-center" src="sensor.webp" width="300px" /></p>
<h2 id="conexion">Conexión</h2>
<p>A continuación presentamos la conexiones electricas realizadas entre los 3 componentes electricos/electronicos de nuestro sensor persoanlizado.</p>
<p><img alt="esquematico de la conexión del sensor personalizado" src="schematic.png" /></p>
<p>La conexión <code>VCC5V</code> no está completamente definida, pero debe ser conectada con un cable. </p>
<h2 id="calibracion">Calibración</h2>
<p>La información de este sensor puede ser recuperada dentro del microcontrolador Arduino usando el comando de lectura analógica.</p>
<p><code>analogRead(PIN)</code></p>
<p>El resultado que nos entrega este sistema necesita pasar por un proceso de calibración para que la medida sea útil. Ya que en el microcontrolador la información medida es un número entero que va de <code>0</code> a <code>1023</code> que representa el voltaje de <code>0V</code> a <code>5V</code>. </p>
<p>Pero este sensor no es lineal, como podemos ver en su curva de sensibilidad:</p>
<p><img alt="curva de sensibilidad de sensor 2Y0A21" src="sensitivity.png" /></p>
<p>Podemos ver que el voltaje cae rápidamente mientras el objeto medido se aleja del sensor. También podemos ver la curva de sensibilidad con el inverso de la distancia que tiene un rango más "lineal" dentro de las distancias del sensor.</p>
<p><img alt="curva de sensibilidad de sensor 2Y0A21" src="inverse-sensitivity.png" /></p>
<p>Estás dos gráficas las obtuvimos de la hoja de datos del fabricante. Para tomar los datos de la imagen y poder trabajarlos usamos la herramienta <a href="https://plotdigitizer.com/app">PlotDigitizer</a>, descargamos los datos y los abrimos en <a href="calibration-data.xlsx">excel</a>. En este documento usamos la función solver para encontrar los parametros de la ecuación de calibración:</p>
<p>$$
L = \frac{B}{(m+A)^C}
$$</p>
<p>donde $A=16.4566026$, $B=30119.67188$ y $C=1.295989659$. Resultando en esta aproximación de la curva de sensibilidad.</p>
<p><img alt="curva de sensibilidad de sensor 2Y0A21" src="calibration.svg" /></p>
<h2 id="programacion">Programación</h2>
<p>Para la programación solo deberemos descargar el código del <a href="https://github.com/semillero-ares/custom-sensor-for-EV3">repositorio</a> y cargar el código al Arduino Pro Mini. Se podrían usar otros microcontroladores. </p>
<h2 id="referencias">Referencias</h2>
<ul>
<li><a href="https://global.sharp/products/device/lineup/data/pdf/datasheet/gp2y0a21yk_e.pdf">Sharp. Hoja de datos del sensor 2Y0A21.</a> (<a href="datasheet.pdf">copia</a>)</li>
<li><a href="https://naylampmechatronics.com/blog/55_tutorial-sensor-de-distancia-sharp.html">Tutorial Sensor de Distancia SHARP.</a></li>
<li><a href="https://www.aranacorp.com/en/using-a-distance-sensor-gp2y0a21-arduino/">Xukyo. <em>Using a distance sensor GP2Y0A21 with Arduino</em>.</a></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../.." class="btn btn-neutral float-left" title="Tutorial para crear sensores personalizados para el LEGO EV3"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>© 2025, Davinson Castaño Cano para el Semillero ARES</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/semillero-ares/custom-sensor-for-EV3" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../.." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/katex.js"></script>
      <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
